#%Module######################################################################
proc ModulesHelp { } {
    puts stderr "Set environment veriables for GEOS"
    puts stderr "This module initializes the environment "
    puts stderr "for building and testing GEOS on NCCS Discover\n"
}
module-whatis "Initialize GEOS build/test environment"

module load other/comp/gcc-8.2
module load other/mpi/openmpi/3.1.1-gcc-8.2
module load lib/mkl-18.0.3.222
module load other/python/GEOSpyD/Ana2019.03_py2.7

module load other/git
module load other/cmake

# MAT For some reason, module purge does not like to have
#     module use in a meta module like this. For now, just
#     add the paths here

# Add paths for ecbuild
append-path PATH /discover/swdev/mathomp4/other/SLES11.3/ecbuild/2019Jun18/bin
append-path LD_LIBRARY_PATH /discover/swdev/mathomp4/other/SLES11.3/ecbuild/2019Jun18/lib
append-path INCLUDE /discover/swdev/mathomp4/other/SLES11.3/ecbuild/2019Jun18/include

# Add paths for manage_externals
append-path PATH /discover/swdev/mathomp4/manage_externals

# Set paths for Baselibs
set basedir /discover/swdev/mathomp4/Baselibs/ESMA-Baselibs-5.2.6/x86_64-unknown-linux-gnu/gfortran_8.2.0-openmpi_3.1.1

setenv basedir $basedir
setenv BASEDIR $basedir
append-path LD_LIBRARY_PATH $basedir/Linux/lib

append-path PATH $basedir/Linux/bin

setenv ESMA_FC gfortran
